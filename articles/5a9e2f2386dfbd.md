---
title: "go tools"
emoji: "ğŸ”¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Go"]
published: false
---
## ã¯ã˜ã‚ã«
æ™®æ®µGoã®å®Ÿè£…ã‚’è¡Œã†éš›ã«ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ãŒã‚ã‚‹ã®ã§ç°¡å˜ã«ã§ã™ãŒç´¹ä»‹ã—ã¾ã™ã€‚

## [gotests](https://github.com/cweill/gotests)
æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ã¦Goãƒ†ã‚¹ãƒˆã®é››å½¢ã‚’ä½œæˆã§ãã¾ã™ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã™ã‚‹ã€‚
```go:main.go
package main

func fullName(firstName, lastName string) string {
    return firstName + lastName
}
```
`gotests`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚
```bash
gotests -all -w main.go
```
ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã‚Œã‚‹ã€‚
```go:main_test.go
func Test_fullName(t *testing.T) {
	type args struct {
		firstName string
		lastName  string
	}
	tests := []struct {
		name string
		args args
		want string
	}{
		// TODO: Add test cases.
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			if got := fullName(tt.args.firstName, tt.args.lastName); got != tt.want {
				t.Errorf("fullName() = %v, want %v", got, tt.want)
			}
		})
	}
}
```
## [gomodifytags](https://github.com/fatih/gomodifytags)
æ§‹é€ ä½“ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¿ã‚°ã‚’æ›´æ–°ã€è¿½åŠ ã€å‰Šé™¤ã§ãã¾ã™ã€‚
ä¸‹è¨˜ã®ã‚ˆã†ãªæ§‹é€ ä½“ãŒã‚ã‚‹ã¨ã™ã‚‹ã€‚
```go:main.go
package main

type User struct {
	Id   int
	Name string
	Age  int
}
```

Userã«å¯¾ã—ã¦jsonãƒ€ã‚°ã‚’ä»˜ä¸ã™ã‚‹ã€‚
```bash
gomodifytags -file main.go -struct User -add-tags json -w
```

ä¸‹è¨˜ã®ã‚ˆã†ã«jsonã‚¿ã‚°ãŒä»˜ä¸ã•ã‚Œã‚‹ã€‚
```go:main.go
package main

type User struct {
	Id   int    `json:"id"`
	Name string `json:"name"`
	Age  int    `json:"age"`
}
```

## [impl](https://github.com/josharian/impl)
ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚¹ã‚¿ãƒ–ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã€‚
```bash
impl 'h *Hoge' error
```

ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚¿ãƒ–ã‚’ä½œæˆã—ã¦ãã‚Œã‚‹ã€‚
```go
func (h *Hoge) Error() string {
        panic("not implemented") // TODO: Implement
}
```

## [goplay](https://github.com/haya14busa/goplay)
æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’[The Go Playground](https://play.golang.org/)ã§å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦`goplay`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚
```bash
goplay main.go
```

## [dlv](https://github.com/go-delve/delve)
Goã®ãƒ‡ãƒãƒƒã‚¬ãƒ¼ãƒ„ãƒ¼ãƒ«

ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§main.goã®ãƒ‡ãƒãƒƒã‚¯ã‚’è¡Œãˆã‚‹ã€‚
```bash
dlv debug main.go
```

ãƒ‡ãƒãƒƒã‚¯é–‹å§‹ã€‚
```bash
Type 'help' for list of commands.
(dlv)
```

packageãŒmainã®mainé–¢æ•°ã«ãƒ–ãƒ¬ã‚¤ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã™ã‚‹ã€‚
```bash
(dlv)break main.main
Breakpoint 1 set at 0x10cdc78 for main.main() ./main.go:13
```

å®Ÿè¡Œã™ã‚‹ã€‚
```bash
(dlv) continue
> main.main() ./main.go:13 (hits goroutine(1):1 total:1) (PC: 0x10cdc78)
     8:		Id   int    `json:"id"`
     9:		Name string `json:"name"`
    10:		Age  int    `json:"age"`
    11:	}
    12:
=>  13:	func main() {
    14:		var user User
    15:		user.Id = 1
    16:		user.Name = "Bob"
    17:		user.Age = 20
    18:
```

nextã§æ¬¡ã®è¡Œã¾ã§å‡¦ç†ã‚’é€²ã‚ã‚‰ã‚Œã‚‹ã€‚
```bash
(dlv) next
> main.main() ./main.go:14 (PC: 0x10cdc8f)
     9:		Name string `json:"name"`
    10:		Age  int    `json:"age"`
    11:	}
    12:
    13:	func main() {
=>  14:		var user User
    15:		user.Id = 1
    16:		user.Name = "Bob"
    17:		user.Age = 20
    18:
    19:		var a string
```

## [goimports](https://github.com/golang/tools/tree/master/cmd/goimports)
ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒä¸è¶³ã—ã¦ã„ã‚‹ã‚‚ã®ã‚’è¿½åŠ ã—ã€å‚ç…§ã•ã‚Œã¦ã„ãªã„ã‚‚ã®ã‚’å‰Šé™¤ã—ã¦ãã‚Œã‚‹ã€‚ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚‚æƒãˆã¦ãã‚Œã‚‹ã€‚

```go:main.go
package main

import "log"

func main() {
fmt.Println("hello")
}
```

`goimports`ã‚’å®Ÿè¡Œã€‚
```bash
goimports -w -l main.go
```

ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®éä¸è¶³ã‚’è§£æ±ºã—ã¦ãã‚Œã¦ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚‚æƒãˆã¦ãã‚Œã‚‹ã€‚
```go:main.go
package main

import "fmt"

func main() {
        fmt.Println("hello")
}
```
